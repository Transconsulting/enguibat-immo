{"version":3,"file":"common.js","mappings":"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","sources":["./src/_services/properties.service.ts","./src/app/app.models.ts"],"sourcesContent":["import { Inject, Injectable, PLATFORM_ID } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Property, Location } from 'src/app/app.models'; \r\nimport { isPlatformBrowser } from '@angular/common';\r\nimport { environment } from 'src/environments/environment';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ConfirmDialogComponent, ConfirmDialogModel } from 'src/app/shared/confirm-dialog/confirm-dialog.component'; \r\nimport { AlertDialogComponent } from 'src/app/shared/alert-dialog/alert-dialog.component';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PropertiesService {\r\npublic API_URL = environment.url_backend;\r\n\r\n  public url = environment.url + '/assets/data/'; \r\n  public apiKey = 'AIzaSyAO7Mg2Cs1qzo_3jkKkZAKY6jtwIlm41-I';\r\n  \r\n  constructor(public http:HttpClient, \r\n              private bottomSheet: MatBottomSheet, \r\n              private snackBar: MatSnackBar,\r\n              public dialog: MatDialog,\r\n              public translateService: TranslateService,\r\n              @Inject(PLATFORM_ID) private platformId: Object) { }\r\n\r\n\r\n              public listeProperty(): Observable<Property[]>{\r\n                return this.http.get<Property[]>(this.API_URL+'listeProperty');\r\n              }\r\n              public getAnnonceById(id: any): Observable<Property[]>{\r\n                return this.http.get<any>(this.API_URL + 'listeProperty/dommaineByUuid/{uuid}?uuid='+ id);\r\n              }\r\n\r\n              public getProperties(): Observable<Property[]>{\r\n                return this.http.get<Property[]>(this.url + 'properties.json');\r\n              }\r\n            \r\n             \r\n\r\n              public getPropertyById(id): Observable<Property>{\r\n                return this.http.get<Property>(this.url + 'property-' + id + '.json');\r\n              }\r\n            \r\n              public getFeaturedProperties(): Observable<Property[]>{\r\n                return this.http.get<Property[]>(this.url + 'featured-properties.json');\r\n              } \r\n            \r\n              public getRelatedProperties(): Observable<Property[]>{\r\n                return this.http.get<Property[]>(this.url + 'related-properties.json');\r\n              }\r\n            \r\n              public getPropertiesByAgentId(agentId): Observable<Property[]>{\r\n                return this.http.get<Property[]>(this.url + 'properties-agentid-' + agentId + '.json');\r\n              }\r\n            \r\n              public getLocations(): Observable<Location[]>{\r\n                return this.http.get<Location[]>(this.url + 'locations.json');\r\n              }\r\n            \r\n              public getAddress(lat = 40.714224, lng = -73.961452){ \r\n                return this.http.get('https://maps.googleapis.com/maps/api/geocode/json?latlng='+lat+','+lng+'&key='+this.apiKey);\r\n              }\r\n            \r\n              public getLatLng(address){ \r\n                return this.http.get('https://maps.googleapis.com/maps/api/geocode/json?key='+this.apiKey+'&address='+address);\r\n              }\r\n            \r\n              public getFullAddress(lat = 40.714224, lng = -73.961452){ \r\n                return this.http.get('https://maps.googleapis.com/maps/api/geocode/json?latlng='+lat+','+lng+'&key='+this.apiKey).subscribe(data =>{ \r\n                  return data['results'][0]['formatted_address'];\r\n                });\r\n              }\r\n\r\n            }\r\n","export class Property {\r\n    constructor(public id: number,\r\n                public title: string, \r\n                public desc: string,\r\n                public propertyType: string,\r\n                public propertyStatus: string[], \r\n                public city: string,\r\n                public zipCode: string[],\r\n                public neighborhood: string[],\r\n                public street: string[],\r\n                public location: Location,\r\n                public formattedAddress: string,\r\n                public features: string[],\r\n                public featured: boolean,\r\n                public priceDollar: Price,\r\n                public priceEuro: Price,\r\n                public bedrooms: number,\r\n                public bathrooms: number,\r\n                public garages: number,\r\n                public area: Area,\r\n                public yearBuilt: number,\r\n                public ratingsCount: number,\r\n                public ratingsValue: number,\r\n                public additionalFeatures: AdditionalFeature[],\r\n                public gallery: Gallery[],\r\n                public plans: Plan[],\r\n                public videos: Video[],\r\n                public published: string,\r\n                public lastUpdate: string,\r\n                public views: number){ }\r\n} \r\n\r\n\r\nexport class Area {\r\n    constructor(public id: number, \r\n                public value: number,\r\n                public unit: string){ }\r\n}\r\n\r\nexport class AdditionalFeature {\r\n    constructor(public id: number, \r\n                public name: string,\r\n                public value: string){ }\r\n}\r\n\r\nexport class Location {\r\n    constructor(public propertyId: number,\r\n                public lat: number,\r\n                public lng: number){ }\r\n}\r\n\r\nexport class Price {\r\n    public sale: number;\r\n    public rent: number;\r\n}\r\n\r\n\r\nexport class Gallery {\r\n    constructor(public id: number, \r\n                public small: string,\r\n                public medium: string,\r\n                public big: string){ }\r\n}\r\n\r\nexport class Plan {\r\n    constructor(public id: number, \r\n                public name: string,\r\n                public desc: string,\r\n                public area: Area,\r\n                public rooms: number,\r\n                public baths: number,\r\n                public image: string){ }\r\n}\r\n\r\nexport class Video {\r\n    constructor(public id: number, \r\n                public name: string,\r\n                public link: string){ }\r\n}\r\n\r\nexport class Pagination {\r\n    constructor(public page: number,\r\n                public perPage: number,\r\n                public prePage: number,\r\n                public nextPage: number,\r\n                public total: number,\r\n                public totalPages: number){ }\r\n}\r\n\r\n"],"names":[],"sourceRoot":"webpack:///"}