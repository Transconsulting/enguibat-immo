<div class="p-3">
    <div class="theme-container">
  
      <div fxLayout="row" fxLayoutAlign="center center" class="my-3">
          <mat-card [style.max-width.px]="500">
            <div fxLayout="column" fxLayoutAlign="center center" class="text-center">  
              <h3 class="uppercase">Création de compte</h3>  
              <a mat-button routerLink="/custum/login" color="accent" class="w-100">Avez-vous déjà un compte? Connectez-vous!</a>  
            </div>
            <form #formValues="ngForm" (ngSubmit)="onSubmit(formValues)"> 
                <mat-form-field  appearance="outline" class="w-100 mt-2">
                    <mat-icon matPrefix class="mr-1 text-muted">person</mat-icon>
                    <mat-label>Prénoms</mat-label>
                    <input matInput placeholder="Prénoms" name="prenom" [(ngModel)]="this.user.prenom" #prenom="ngModel" required>
                    <!-- <mat-error *ngIf="registerForm.controls.prenom.errors?.required">Le prénom est obligatoire</mat-error>
                    <mat-error *ngIf="registerForm.controls.prenom.hasError('minlength')">Le mot de passe saisi est trop court</mat-error> -->
                  </mat-form-field>
                  <div *ngIf="prenom.invalid && (prenom.touched || prenom.dirty)">
                    <div *ngIf="prenom.errors?.['required']">
                      <small>Champ obligatoire</small>
                    </div>
                  </div>

                <mat-form-field  appearance="outline" class="w-100 mt-2">
                  <mat-icon matPrefix class="mr-1 text-muted">person</mat-icon>
                  <mat-label>Nom</mat-label>
                  <input matInput placeholder="Nom" name="nom" [(ngModel)]="this.user.nom" #nom="ngModel" required>
                  <!-- <mat-error *ngIf="registerForm.controls.prenom.errors?.required">Le prénom est obligatoire</mat-error>
                  <mat-error *ngIf="registerForm.controls.prenom.hasError('minlength')">Le mot de passe saisi est trop court</mat-error> -->
              </mat-form-field>
              <div *ngIf="nom.invalid && (nom.touched || nom.dirty)">
                <div *ngIf="nom.errors?.['required']">
                  <small>Champ obligatoire</small>
                </div>
              </div>
                <mat-form-field  appearance="outline" class="w-100 mt-1">
                    <mat-icon matPrefix class="mr-1 text-muted">email</mat-icon>
                    <mat-label>Email</mat-label>
                    <input matInput placeholder="Email"  name="email" [(ngModel)]="this.user.email" #email="ngModel">
                    <!-- <mat-error *ngIf="registerForm.controls.email.errors?.required">L'adresse mail est obligatoire</mat-error>
                    <mat-error *ngIf="registerForm.controls.email.hasError('invalidEmail')">Adresse mail invalide</mat-error> -->
                </mat-form-field>
                <mat-form-field  appearance="outline" class="w-100 mt-2">
                    <mat-icon matPrefix class="mr-1 text-muted">phone</mat-icon>
                    <mat-label>Télephone</mat-label>
                    <input matInput type="number" required placeholder="Téléphone" name="telephone" [(ngModel)]="this.user.telephone" #telephone="ngModel">
                    <!-- <mat-error *ngIf="registerForm.controls.telephone.errors?.required">Le prénom est obligatoire</mat-error>
                    <mat-error *ngIf="registerForm.controls.telephone.hasError('minlength')">Le champ téléphone saisi est trop court</mat-error> -->
               </mat-form-field>
                <mat-form-field  appearance="outline" class="w-100 mt-1">
                  <mat-icon matPrefix class="mr-1 text-muted">lock</mat-icon>
                  <mat-label>Mot de passe</mat-label>
                  <input matInput maxlength="15" placeholder="Mot de passe" type="password" name="password" [(ngModel)]="this.user.password" #password="ngModel" type="password" minlength="6" required>
                  <!-- <mat-error *ngIf="registerForm.controls.password.errors?.required">Password is required</mat-error>
                  <mat-error *ngIf="registerForm.controls.password.hasError('minlength')">Password isn't long enough, minimum of 6 characters</mat-error> -->
                  <button mat-icon-button matSuffix (click)="hide = !hide" type="button" class="text-muted">
                      <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                  </button>
                </mat-form-field> 
                <div *ngIf="password.invalid && (password.touched || password.dirty)">
                  <div *ngIf="password.errors?.['required']">
                    <small>Champ obligatoire</small>
                  </div>
                  <div *ngIf="password.errors?.['minlength']">
                    <small>Le champ doit avoir au minimun 6 caractères</small>
                  </div>
                  <div *ngIf="password.errors?.['maxlength']">
                    <small>Le champ doit avoir au maximun 6 caractères</small>
                  </div>
                </div>
                <mat-form-field  appearance="outline" class="w-100 mt-1">
                  <mat-icon matPrefix class="mr-1 text-muted">lock</mat-icon>
                  <mat-label>Confirm Password</mat-label>
                  <input matInput placeholder="Confirm Password" required name="secondMotDePasse" [(ngModel)]="this.secondMotDePasse" #secondMotDePass="ngModel" [type]="hide ? 'password' : 'text'">
                  <!-- <mat-error *ngIf="registerForm.controls.confirmPassword.errors?.required">Confirm Password is required</mat-error>
                  <mat-error *ngIf="registerForm.controls.confirmPassword.hasError('mismatchedPasswords')">Passwords do not match</mat-error> -->
                  <button mat-icon-button matSuffix (click)="hide = !hide" type="button" class="text-muted">
                      <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                  </button>
                </mat-form-field> 
                <div *ngIf="secondMotDePass.invalid && (secondMotDePass.touched || secondMotDePass.dirty)">
                  <div *ngIf="secondMotDePass.errors?.['required']">
                    <small>Champ obligatoire</small>
                  </div>
                  <div *ngIf="secondMotDePass.errors?.['minlength']">
                    <small>Le champ doit avoir au minimun 6 caractères</small>
                  </div>
                  <div *ngIf="secondMotDePass.errors?.['maxlength']">
                    <small>Le champ doit avoir au maximum 15 caractères</small>
                  </div>
            
                  
                </div>

                <div fxLayout="column" fxLayoutAlign="center center" class="text-center" *ngIF="!this.isSucced">  
                  <a mat-button  color="accent" class="w-100">la création de compte a échoué</a>  
                </div>

                <div class="text-center mt-2"> 

                    <button mat-raised-button color="accent" [disabled]="!formValues.form.valid" class="uppercase" type="submit">
                        Valider
                    </button>
                </div> 
            </form>
            <div class="divider mt-4"></div> 
            <!-- <mat-card-actions fxLayoutAlign="center center" class="text-center">
               <small class="my-3">By clicking the "Create an Account" button you agree with our <a mat-button routerLink="/terms-conditions" color="primary" class="mx-2">Terms and conditions</a> </small>
            </mat-card-actions> -->
          </mat-card>
      </div> 
  
    </div>
  </div>